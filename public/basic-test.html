<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" href="data:;base64,iVBORw0KGgo=">

		<title>MathQuill-basic Demo</title>

		<link rel="stylesheet" href="support/home.css">
		<link rel="stylesheet" href="mathquill.css">
	</head>

	<body>
		<div id="body">
			<h1>MathQuill-basic Demo <small>local test page</small></h1>

			<p>
				Backslash <code>\</code> and dollar <code>$</code> aren't special, <code>/</code> still works, font
				works:
			</p>

			<p><span id="basic">\sqrt{2}</span></p>

			<p><textarea id="basic-latex"></textarea></p>
		</div>

		<script src="mathquill-basic.js"></script>
		<script>
			MQ = MathQuill.getInterface();

			const latex = document.getElementById('basic-latex');
			const handler = () => {
				const prev = latex.value;
				setTimeout(() => {
					const now = latex.value;
					if (now !== prev) mq.latex(now);
				});
			};

			latex.addEventListener('keydown', handler);
			latex.addEventListener('keypress', handler);

			const mq = MQ.MathField(document.getElementById('basic'), {
				autoSubscriptNumerals: true,
				handlers: {
					edit: () => {
						if (latex !== document.activeElement) latex.value = mq.latex();
					}
				}
			});
			latex.value = mq.latex();
		</script>
	</body>
</html>
